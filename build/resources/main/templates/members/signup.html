<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>회원가입 ㅣ 수다면</title>
    <link rel="shortcut icon" type="image/icon" th:href="@{/img/icon/sudamyeon.png}">

    <!-- Fontawesome -->    
    <script src="https://kit.fontawesome.com/ac43b59d41.js" crossorigin="anonymous"></script>
    
    <!-- signup CSS -->
    <link th:href="@{/css/signup.css}" rel="stylesheet" type="text/css">

</head>
<body>
    <div class="center-horizontal">
        <a th:href="@{/}">
            <img th:src="@{/img/icon/sudamyeon.png}" alt="수다면 로고">
        </a>
        <a th:href="@{/}">
            <h2 class="center-text">수다면</h2>
        </a>
    </div>
    <form th:action="@{/members/signup}" method="POST" onsubmit="return validateForm()" id="content">
        <div>
            <h3>회원 정보를 입력해주세요</h3>
            <div class="icon_box_1">
                <i class="fa-regular fa-envelope"></i>
            </div>           
            <input class="int" type="text" id="email_id" name="email_id" required="required" placeholder="아이디 (이메일)" />            
        </div>
        <div>
            <div class="icon_box_1">
                <i class="fa-solid fa-lock"></i>
            </div>
            <input class="int" type="password" id="password" name="password" required="required" placeholder="비밀번호" />
        </div>
        <div>
            <div class="icon_box_1">
                <i class="fa-solid fa-lock"></i>
            </div>
            <input class="int" type="password" id="password2" name="password2" required="required" placeholder="비밀번호 확인" />
        </div>
        <div>
            <div class="icon_box_1">
                <i class="fa-regular fa-address-card"></i>
            </div>
            <input class="int" type="text" id="name" name="name" required="required" placeholder="이름" />
        </div>
        <div>
            <div class="icon_box_1">
                <i class="fa-regular fa-face-smile"></i>
            </div>
            <input class="int" type="text" id="nickname" name="nickname" required="required" placeholder="닉네임" />
        </div>
        <div>
            <div class="icon_box_1">
                <i class="fa-solid fa-mobile-screen"></i>
            </div>
            <input class="int" type="text" id="phone" name="phone" required="required" placeholder="휴대폰 번호 (010-0000-0000)" />
        </div>
        <button type="submit" id="btn_join">가입하기</button>
    </form>

    <script>
        function validateForm() {
            var emailField = document.getElementById('email_id');
            var emailValue = emailField.value;

            var passwordField = document.getElementById('password');
            var passwordValue = passwordField.value;

            var password2Field = document.getElementById('password2');
            var password2Value = password2Field.value;

            var nameField = document.getElementById('name');
            var nameValue = nameField.value;

            var nicknameField = document.getElementById('nickname');
            var nicknameValue = nicknameField.value;

            var phoneField = document.getElementById('phone');
            var phoneValue = phoneField.value;

            // 간단한 이메일 형식 유효성 검사
            var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
            if (!emailPattern.test(emailValue)) {
                alert('올바른 이메일 주소를 입력하세요.');
                return false;
            }

            // 비밀번호 일치 확인
            if (passwordValue !== password2Value) {
                alert('비밀번호가 일치하지 않습니다.');
                return false;
            }

            // 이름이 비어 있지 않은지 확인
            if (nameValue.trim() === '') {
                alert('이름을 입력하세요.');
                return false;
            }

            // 닉네임이 비어 있지 않은지 확인
            if (nicknameValue.trim() === '') {
                alert('닉네임을 입력하세요.');
                return false;
            }

            // 간단한 전화번호 형식 유효성 검사
            var phonePattern = /^\d{3}-\d{4}-\d{4}$/;
            if (!phonePattern.test(phoneValue)) {
                alert('올바른 전화번호를 입력하세요.');
                return false;
            }

            // 모든 유효성 검사를 통과하면 폼 제출을 허용
            return true;
        }
    </script>
</body>
</html>